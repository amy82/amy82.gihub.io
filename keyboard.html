<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Typing Practice</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f4f6f8;
}

header {
    background: #2563eb;
    color: white;
    padding: 16px;
    font-size: 20px;
}

.container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px;
}

/* 따라칠 문장 */
.target-text {
    font-size: 32px;
    letter-spacing: 4px;
    margin-bottom: 20px;
}

.target-text span.active {
    color: #2563eb;
    border-bottom: 3px solid #2563eb;
}

/* 입력창 */
input {
    width: 100%;
    font-size: 24px;
    padding: 10px;
    margin-bottom: 30px;
}

/* 키보드 */
.keyboard {
    display: flex;
    flex-direction: column;
    gap: 10px;
    align-items: center;
}

.key-row {
    display: flex;
    gap: 6px;
}

.key {
    width: 55px;
    height: 55px;
    border-radius: 8px;
    background: #fff;
    border: 1px solid #ccc;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
}

.key.active {
    background: #2563eb;
    color: white;
    transform: scale(1.1);
}

/* 광고 */
.ad {
    margin-top: 40px;
    background: #eee;
    padding: 20px;
    text-align: center;
    color: #777;
}
</style>
</head>
<body>

<header>⌨️ Typing Practice</header>

<div class="container">

    <!-- 따라칠 문장 -->
    <div class="target-text" id="targetText"></div>

    <!-- 입력 -->
    <input type="text" id="input" autofocus placeholder="여기에 입력하세요">

    <!-- 키보드 -->
    <div class="keyboard" id="keyboard"></div>

    <!-- 광고 -->
    <div class="ad">Google AdSense 위치</div>

</div>

<script>
const sentence = "HELLO";
let index = 0;

const targetText = document.getElementById("targetText");
const input = document.getElementById("input");
const keyboard = document.getElementById("keyboard");

// 키보드 레이아웃
const layout = [
    ["Q","W","E","R","T","Y","U","I","O","P"],
    ["A","S","D","F","G","H","J","K","L"],
    ["Z","X","C","V","B","N","M"]
];

// ====== 문장 렌더 ======
function renderText() {
    targetText.innerHTML = "";
    [...sentence].forEach((ch, i) => {
        const span = document.createElement("span");
        span.innerText = ch;
        if (i === index) span.classList.add("active");
        targetText.appendChild(span);
    });
}

// ====== 키보드 렌더 ======
function renderKeyboard(activeKey = "") {
    keyboard.innerHTML = "";
    layout.forEach(row => {
        const rowDiv = document.createElement("div");
        rowDiv.className = "key-row";
        row.forEach(key => {
            const keyDiv = document.createElement("div");
            keyDiv.className = "key";
            keyDiv.innerText = key;
            if (key === activeKey) keyDiv.classList.add("active");
            rowDiv.appendChild(keyDiv);
        });
        keyboard.appendChild(rowDiv);
    });
}

// ====== 입력 처리 ======
input.addEventListener("input", () => {
    const value = input.value.toUpperCase();

    if (value[index] === sentence[index]) {
        index++;
        renderText();
    }

    if (index >= sentence.length) {
        alert("완료!");
        input.disabled = true;
    }

    renderKeyboard(sentence[index]);
});

// 초기화
renderText();
renderKeyboard(sentence[0]);
</script>

</body>
</html>
